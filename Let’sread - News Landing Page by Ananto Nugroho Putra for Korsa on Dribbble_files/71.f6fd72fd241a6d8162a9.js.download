(window.webpackJsonp=window.webpackJsonp||[]).push([[71],{927:function(n,e,t){"use strict";t.r(e),t.d(e,"SiteNavV2",(function(){return r}));var o=t(36),a=function(n){requestAnimationFrame((function(){requestAnimationFrame((function(){n()}))}))},i={trackAnnouncementVisibility:function(n,e){if(n){var t=n.getAttribute("data-announcement-id"),a=e?"AnnouncementDisplayed":"AnnouncementDismissed";o.a.track(a,{announcement_id:t})}},showAnnouncements:function(){var n=this,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=document.querySelector("[data-announcements]");t&&(t.classList.toggle("announcements--closed",!e),a((function(){if(t.classList.toggle("announcements--visible",e),e){var o=document.querySelector("[data-announcement]:not(.announcement--hidden)");n.trackAnnouncementVisibility(o,!0)}})))},nextAnnouncement:function(){var n=this,e=document.querySelector("[data-announcement]:not(.announcement--hidden)");if(e){fetch(e.getAttribute("data-announcement"),{method:"POST"}),this.trackAnnouncementVisibility(e,!1);var t=null==e?void 0:e.nextElementSibling;t?(e.classList.add("announcement--fade-out"),setTimeout((function(){e.remove(),t.classList.remove("announcement--hidden"),t.classList.add("announcement--fade-out"),a((function(){t.classList.remove("announcement--fade-out"),n.trackAnnouncementVisibility(t,!0)}))}),300)):this.showAnnouncements(!1)}},init:function(){var n=this,e=document.querySelector("[data-announcements]"),t=document.querySelector("[data-announcements-close]");e&&t&&(document.body.prepend(e),t.addEventListener("click",this.nextAnnouncement.bind(this)),a((function(){n.showAnnouncements()})))}},c=function(){var n,e=!(null==(n=document.querySelector("[data-nav-v2-profile]"))||!n.classList.contains("nav-v2-profile--open")),t=document.body.classList.contains("nav-v2-mobile-menu-open");document.body.classList.toggle("nav-v2-lock-scroll",e||t)},r={bindScroll:function(){var n=function(){var n=window.scrollY>20;document.body.classList.toggle("nav-v2-scrolled",n)};document.addEventListener("scroll",n),n()},bindFooterMarqueeScroll:function(){var n=document.querySelector("[data-footer-v2-marquee]");n&&n.addEventListener("scroll",(function(){n.scrollLeft>0&&n.classList.add("footer-v2-marquee--scrolled")}))},bindTrackingEvents:function(){document.querySelectorAll("[data-nav-event-clicked]").forEach((function(n){n.addEventListener("click",(function(){var e,t={category:(null==(e=n.closest("[data-nav-event-category]"))?void 0:e.getAttribute("data-nav-event-category"))||"Top Nav",item:n.getAttribute("data-nav-event-clicked")};o.a.track("HeaderNavigationClicked",t)}))})),document.querySelectorAll("[data-nav-event-cta-clicked]").forEach((function(n){n.addEventListener("click",(function(){var e,t,a,i,c,r={currency:null!=(e=null==(t=Dribbble)||null==(a=t.JsConfig)||null==(i=a.purchase)||null==(c=i.currency_conversion)?void 0:c.abbreviation)?e:"USD",location:"Site Nav",product_name:n.getAttribute("data-nav-event-product-name")||"Pro",text:n.getAttribute("data-nav-event-cta-clicked")||n.textContent.trim()};o.a.track("PurchaseCallToActionClicked",r)}))}))},bindMobileMenu:function(){var n=document.querySelector("[data-nav-v2-burger]");if(n){var e=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;document.body.classList.toggle("nav-v2-mobile-menu-open",n),c()};n.addEventListener("click",(function(n){n.preventDefault(),e()})),document.body.addEventListener("click",(function(n){var t=n.target.closest("[data-nav-v2-burger]"),o=n.target.closest("[data-nav-v2-mobile]");t||o||e(!1)}))}},bindProfileDropdown:function(){var n=document.querySelector("[data-nav-v2-profile]"),e=document.querySelector("[data-nav-v2-avatar]");if(n&&e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;n.classList.toggle("nav-v2-profile--open",e),c()};e.addEventListener("click",(function(n){window.matchMedia("(min-width: 950px)").matches||(n.preventDefault(),t())})),document.body.addEventListener("click",(function(n){var e=n.target.closest("[data-nav-v2-avatar]"),o=n.target.closest("[data-nav-v2-profile-wrapper]");e||o||t(!1)}))}},fadeInDynamicContent:function(n){var e=document.querySelector("[data-".concat(n,"]"));e&&setTimeout((function(){e.classList.add("".concat(n,"--loaded"))}),0)},init:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=n.isFramer,t=void 0!==e&&e;this.fadeInDynamicContent("nav-v2-dynamic"),this.fadeInDynamicContent("footer-v2"),this.bindProfileDropdown(),this.bindTrackingEvents(),this.bindFooterMarqueeScroll(),i.init(),t||(this.bindMobileMenu(),this.bindScroll())}};e.default=r}}]);